{"name":"Multi Rolltable Macro Template","type":"script","author":"vAVxa0bbKaJWLRGs","img":"icons/svg/dice-target.svg","scope":"global","command":"let rolls = [\n  await game.tables.getName(\"Table 1 Name Here\").roll(),\n  await game.tables.getName(\"Table 2 Name Here\").roll()\n]\n\nlet items = [];\nfor(roll of rolls) {\n  const item = await getItemFromTableRoll(roll.results[0].data);\n  items.push(item);\n}\n\nlet messageContent = [];\nfor(item of items) {\n  const message = await getDraggableItemCardContent(item);\n  messageContent.push(message);\n}\n\nconst chatData = {\n  user: game.user.data._id,\n  type: CONST.CHAT_MESSAGE_TYPES.OTHER,\n  content: messageContent.join(\"<br />\"),\n  flags: {\"core.canPopout\": true}\n};\n\nChatMessage.create(chatData);","folder":null,"sort":0,"permission":{"default":0,"vAVxa0bbKaJWLRGs":3},"flags":{"core":{"sourceId":"Macro.KcIXihIEmk7U1PJO"}},"_id":"sGYILM0UOat3eQAr"}